<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Seminar 3 Tables and Tibbles (and Tribbles) | Data analysis using R for Psychology and Social Science</title>
  <meta name="description" content="Material and exercises for ‘Applied data analysis for psychology using the open-source software R’ seminar." />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="Seminar 3 Tables and Tibbles (and Tribbles) | Data analysis using R for Psychology and Social Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Material and exercises for ‘Applied data analysis for psychology using the open-source software R’ seminar." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Seminar 3 Tables and Tibbles (and Tribbles) | Data analysis using R for Psychology and Social Science" />
  
  <meta name="twitter:description" content="Material and exercises for ‘Applied data analysis for psychology using the open-source software R’ seminar." />
  

<meta name="author" content="Alexander (Sasha) Pastukhov" />


<meta name="date" content="2021-10-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="vectors.html"/>
<link rel="next" href="readr.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="font-awesome.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data analysis using R for Psychology</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-r"><i class="fa fa-check"></i>Why R?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-tidyverse"><i class="fa fa-check"></i>Why Tidyverse</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-seminar"><i class="fa fa-check"></i>About the seminar</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#thinking-like-a-computer"><i class="fa fa-check"></i>Thinking like a computer</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-material"><i class="fa fa-check"></i>About the material</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="software.html"><a href="software.html"><i class="fa fa-check"></i>Software</a>
<ul>
<li class="chapter" data-level="0.1" data-path="software.html"><a href="software.html#install-r"><i class="fa fa-check"></i><b>0.1</b> Installing R</a></li>
<li class="chapter" data-level="0.2" data-path="software.html"><a href="software.html#install-rstudio"><i class="fa fa-check"></i><b>0.2</b> Installing R-Studio</a></li>
<li class="chapter" data-level="0.3" data-path="software.html"><a href="software.html#install-rtools"><i class="fa fa-check"></i><b>0.3</b> Installing RTools</a></li>
<li class="chapter" data-level="" data-path="software.html"><a href="software.html#install.packages"><i class="fa fa-check"></i>Installing packages</a></li>
<li class="chapter" data-level="0.4" data-path="software.html"><a href="software.html#minimal-set-of-packages"><i class="fa fa-check"></i><b>0.4</b> Minimal set of packages</a></li>
<li class="chapter" data-level="0.5" data-path="software.html"><a href="software.html#installr"><i class="fa fa-check"></i><b>0.5</b> Keeping R and packages up-to-date</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="reproducable-research.html"><a href="reproducable-research.html"><i class="fa fa-check"></i><b>1</b> Reproducable Research: Projects and RMarkdown Notebooks</a>
<ul>
<li class="chapter" data-level="1.1" data-path="reproducable-research.html"><a href="reproducable-research.html#projects"><i class="fa fa-check"></i><b>1.1</b> Projects</a></li>
<li class="chapter" data-level="1.2" data-path="reproducable-research.html"><a href="reproducable-research.html#rmarkdown"><i class="fa fa-check"></i><b>1.2</b> RMarkdown</a></li>
<li class="chapter" data-level="1.3" data-path="reproducable-research.html"><a href="reproducable-research.html#exercise"><i class="fa fa-check"></i><b>1.3</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>2</b> Vectors! Vectors everywhere!</a>
<ul>
<li class="chapter" data-level="2.1" data-path="vectors.html"><a href="vectors.html#variables"><i class="fa fa-check"></i><b>2.1</b> Variables as boxes</a></li>
<li class="chapter" data-level="2.2" data-path="vectors.html"><a href="vectors.html#assignment-statement"><i class="fa fa-check"></i><b>2.2</b> Assignment statement in detail</a></li>
<li class="chapter" data-level="2.3" data-path="vectors.html"><a href="vectors.html#vectors-scalars"><i class="fa fa-check"></i><b>2.3</b> Vectors and singluar values (scalars, which are also vectors)</a></li>
<li class="chapter" data-level="2.4" data-path="vectors.html"><a href="vectors.html#vector-index"><i class="fa fa-check"></i><b>2.4</b> Vector indexes (subsetting)</a></li>
<li class="chapter" data-level="2.5" data-path="vectors.html"><a href="vectors.html#names"><i class="fa fa-check"></i><b>2.5</b> Names as an Index</a></li>
<li class="chapter" data-level="2.6" data-path="vectors.html"><a href="vectors.html#vector-index-slicing"><i class="fa fa-check"></i><b>2.6</b> Slicing</a></li>
<li class="chapter" data-level="2.7" data-path="vectors.html"><a href="vectors.html#colon-sequence"><i class="fa fa-check"></i><b>2.7</b> Colon Operator and Sequence Generation</a></li>
<li class="chapter" data-level="2.8" data-path="vectors.html"><a href="vectors.html#working-with-two-vectors-of-equal-length"><i class="fa fa-check"></i><b>2.8</b> Working with two vectors of <em>equal</em> length</a></li>
<li class="chapter" data-level="2.9" data-path="vectors.html"><a href="vectors.html#different-length-vectors"><i class="fa fa-check"></i><b>2.9</b> Working with two vectors of <em>different</em> length</a></li>
<li class="chapter" data-level="2.10" data-path="vectors.html"><a href="vectors.html#applying-functions-to-a-vector"><i class="fa fa-check"></i><b>2.10</b> Applying functions to a vector</a></li>
<li class="chapter" data-level="2.11" data-path="vectors.html"><a href="vectors.html#wrap-up"><i class="fa fa-check"></i><b>2.11</b> Wrap up</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i><b>3</b> Tables and Tibbles (and Tribbles)</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tables.html"><a href="tables.html#primary-types"><i class="fa fa-check"></i><b>3.1</b> Primary data types</a></li>
<li class="chapter" data-level="3.2" data-path="tables.html"><a href="tables.html#vectors-are-homogeneous"><i class="fa fa-check"></i><b>3.2</b> All vector values must be of the same type</a></li>
<li class="chapter" data-level="3.3" data-path="tables.html"><a href="tables.html#lists"><i class="fa fa-check"></i><b>3.3</b> Lists</a></li>
<li class="chapter" data-level="3.4" data-path="tables.html"><a href="tables.html#subsetting"><i class="fa fa-check"></i><b>3.4</b> Subsetting, a fuller version</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="tables.html"><a href="tables.html#subsetting-for-atomics-vectors"><i class="fa fa-check"></i><b>3.4.1</b> Subsetting for (atomics) vectors</a></li>
<li class="chapter" data-level="3.4.2" data-path="tables.html"><a href="tables.html#subsetting-for-lists"><i class="fa fa-check"></i><b>3.4.2</b> Subsetting for lists</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="tables.html"><a href="tables.html#dollar-subsetting"><i class="fa fa-check"></i><b>3.5</b> Yet another subsetting via $</a></li>
<li class="chapter" data-level="3.6" data-path="tables.html"><a href="tables.html#data.frame"><i class="fa fa-check"></i><b>3.6</b> Tables, a.k.a. data frames</a></li>
<li class="chapter" data-level="3.7" data-path="tables.html"><a href="tables.html#table-subsetting"><i class="fa fa-check"></i><b>3.7</b> Subsetting tables</a></li>
<li class="chapter" data-level="3.8" data-path="tables.html"><a href="tables.html#library"><i class="fa fa-check"></i><b>3.8</b> Using libraries</a></li>
<li class="chapter" data-level="3.9" data-path="tables.html"><a href="tables.html#tibble"><i class="fa fa-check"></i><b>3.9</b> Tibble, a better data.frame</a></li>
<li class="chapter" data-level="3.10" data-path="tables.html"><a href="tables.html#tribble"><i class="fa fa-check"></i><b>3.10</b> Tribble, table from text</a></li>
<li class="chapter" data-level="3.11" data-path="tables.html"><a href="tables.html#data"><i class="fa fa-check"></i><b>3.11</b> Reading example tables</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="readr.html"><a href="readr.html"><i class="fa fa-check"></i><b>4</b> Reading csv files</a>
<ul>
<li class="chapter" data-level="4.1" data-path="readr.html"><a href="readr.html#readxl"><i class="fa fa-check"></i><b>4.1</b> Reading Excel files</a></li>
<li class="chapter" data-level="4.2" data-path="readr.html"><a href="readr.html#reading-files-from-other-programs"><i class="fa fa-check"></i><b>4.2</b> Reading files from other programs</a></li>
<li class="chapter" data-level="4.3" data-path="readr.html"><a href="readr.html#wrap-up-1"><i class="fa fa-check"></i><b>4.3</b> Wrap up</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>5</b> Grammar of Graphics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="ggplot2.html"><a href="ggplot2.html#tidydata"><i class="fa fa-check"></i><b>5.1</b> Tidy data</a></li>
<li class="chapter" data-level="5.2" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-1"><i class="fa fa-check"></i><b>5.2</b> ggplot2</a></li>
<li class="chapter" data-level="5.3" data-path="ggplot2.html"><a href="ggplot2.html#auto-efficiency-continuous-x-axis"><i class="fa fa-check"></i><b>5.3</b> Auto efficiency: continuous x-axis</a></li>
<li class="chapter" data-level="5.4" data-path="ggplot2.html"><a href="ggplot2.html#auto-efficiency-discrete-x-axis"><i class="fa fa-check"></i><b>5.4</b> Auto efficiency: discrete x-axis</a></li>
<li class="chapter" data-level="5.5" data-path="ggplot2.html"><a href="ggplot2.html#mammals-sleep-single-variable"><i class="fa fa-check"></i><b>5.5</b> Mammals sleep: single variable</a></li>
<li class="chapter" data-level="5.6" data-path="ggplot2.html"><a href="ggplot2.html#mapping-for-all-visuals-versus-just-one-visual"><i class="fa fa-check"></i><b>5.6</b> Mapping for all visuals versus just one visual</a></li>
<li class="chapter" data-level="5.7" data-path="ggplot2.html"><a href="ggplot2.html#mapping-on-variables-versus-constants"><i class="fa fa-check"></i><b>5.7</b> Mapping on variables versus constants</a></li>
<li class="chapter" data-level="5.8" data-path="ggplot2.html"><a href="ggplot2.html#themes"><i class="fa fa-check"></i><b>5.8</b> Themes</a></li>
<li class="chapter" data-level="5.9" data-path="ggplot2.html"><a href="ggplot2.html#you-aint-seen-nothing-yet"><i class="fa fa-check"></i><b>5.9</b> You ain’t seen nothing yet</a></li>
<li class="chapter" data-level="5.10" data-path="ggplot2.html"><a href="ggplot2.html#further-reading"><i class="fa fa-check"></i><b>5.10</b> Further reading</a></li>
<li class="chapter" data-level="5.11" data-path="ggplot2.html"><a href="ggplot2.html#extending-ggplot2"><i class="fa fa-check"></i><b>5.11</b> Extending ggplot2</a></li>
<li class="chapter" data-level="5.12" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-cannot-do-everything"><i class="fa fa-check"></i><b>5.12</b> ggplot2 cannot do everything</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>6</b> Functions and pipes</a>
<ul>
<li class="chapter" data-level="6.1" data-path="functions.html"><a href="functions.html#functions-1"><i class="fa fa-check"></i><b>6.1</b> Functions</a></li>
<li class="chapter" data-level="6.2" data-path="functions.html"><a href="functions.html#writing-a-function"><i class="fa fa-check"></i><b>6.2</b> Writing a function</a></li>
<li class="chapter" data-level="6.3" data-path="functions.html"><a href="functions.html#scopes-global-versus-local-variables"><i class="fa fa-check"></i><b>6.3</b> Scopes: Global versus Local variables</a></li>
<li class="chapter" data-level="6.4" data-path="functions.html"><a href="functions.html#function-with-two-parameters"><i class="fa fa-check"></i><b>6.4</b> Function with two parameters</a></li>
<li class="chapter" data-level="6.5" data-path="functions.html"><a href="functions.html#table-as-a-parameter"><i class="fa fa-check"></i><b>6.5</b> Table as a parameter</a></li>
<li class="chapter" data-level="6.6" data-path="functions.html"><a href="functions.html#nested-calls"><i class="fa fa-check"></i><b>6.6</b> Nested calls</a></li>
<li class="chapter" data-level="6.7" data-path="functions.html"><a href="functions.html#piping"><i class="fa fa-check"></i><b>6.7</b> Piping</a></li>
<li class="chapter" data-level="6.8" data-path="functions.html"><a href="functions.html#everything-is-a-function"><i class="fa fa-check"></i><b>6.8</b> Everything is a function</a></li>
<li class="chapter" data-level="6.9" data-path="functions.html"><a href="functions.html#using-or-not-using-explicit-return-statement"><i class="fa fa-check"></i><b>6.9</b> Using (or not using) explicit return statement</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>7</b> Tidyverse: dplyr</a>
<ul>
<li class="chapter" data-level="7.1" data-path="dplyr.html"><a href="dplyr.html#tidyverse-philosophy"><i class="fa fa-check"></i><b>7.1</b> Tidyverse philosophy</a></li>
<li class="chapter" data-level="7.2" data-path="dplyr.html"><a href="dplyr.html#select"><i class="fa fa-check"></i><b>7.2</b> <code>select()</code> columns by name</a></li>
<li class="chapter" data-level="7.3" data-path="dplyr.html"><a href="dplyr.html#conditions"><i class="fa fa-check"></i><b>7.3</b> Conditions</a></li>
<li class="chapter" data-level="7.4" data-path="dplyr.html"><a href="dplyr.html#logical-indexing"><i class="fa fa-check"></i><b>7.4</b> Logical indexing</a></li>
<li class="chapter" data-level="7.5" data-path="dplyr.html"><a href="dplyr.html#filter-rows-by-values"><i class="fa fa-check"></i><b>7.5</b> <code>filter()</code> rows by values</a></li>
<li class="chapter" data-level="7.6" data-path="dplyr.html"><a href="dplyr.html#arrange-rows-in-a-particular-order"><i class="fa fa-check"></i><b>7.6</b> <code>arrange()</code> rows in a particular order</a></li>
<li class="chapter" data-level="7.7" data-path="dplyr.html"><a href="dplyr.html#mutate"><i class="fa fa-check"></i><b>7.7</b> <code>mutate()</code> columns</a></li>
<li class="chapter" data-level="7.8" data-path="dplyr.html"><a href="dplyr.html#summarize"><i class="fa fa-check"></i><b>7.8</b> <code>summarize()</code> table by <code>groups</code></a></li>
<li class="chapter" data-level="7.9" data-path="dplyr.html"><a href="dplyr.html#putting-it-all-together"><i class="fa fa-check"></i><b>7.9</b> Putting it all together</a></li>
<li class="chapter" data-level="7.10" data-path="dplyr.html"><a href="dplyr.html#should-i-use-tidyverse"><i class="fa fa-check"></i><b>7.10</b> Should I use Tidyverse?</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="seminar07.html"><a href="seminar07.html"><i class="fa fa-check"></i><b>8</b> Factors and Joins</a>
<ul>
<li class="chapter" data-level="8.1" data-path="seminar07.html"><a href="seminar07.html#how-to-write-code"><i class="fa fa-check"></i><b>8.1</b> How to write code</a></li>
<li class="chapter" data-level="8.2" data-path="seminar07.html"><a href="seminar07.html#implementing-a-typical-analysis"><i class="fa fa-check"></i><b>8.2</b> Implementing a typical analysis</a></li>
<li class="chapter" data-level="8.3" data-path="seminar07.html"><a href="seminar07.html#factors"><i class="fa fa-check"></i><b>8.3</b> Factors</a></li>
<li class="chapter" data-level="8.4" data-path="seminar07.html"><a href="seminar07.html#forcats"><i class="fa fa-check"></i><b>8.4</b> Forcats</a></li>
<li class="chapter" data-level="8.5" data-path="seminar07.html"><a href="seminar07.html#plotting-group-averages"><i class="fa fa-check"></i><b>8.5</b> Plotting group averages</a></li>
<li class="chapter" data-level="8.6" data-path="seminar07.html"><a href="seminar07.html#plotting-our-confidence-in-group-averages"><i class="fa fa-check"></i><b>8.6</b> Plotting our confidence in group averages</a></li>
<li class="chapter" data-level="8.7" data-path="seminar07.html"><a href="seminar07.html#looking-at-similarity"><i class="fa fa-check"></i><b>8.7</b> Looking at similarity</a></li>
<li class="chapter" data-level="8.8" data-path="seminar07.html"><a href="seminar07.html#joining-tables"><i class="fa fa-check"></i><b>8.8</b> Joining tables</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="seminar08.html"><a href="seminar08.html"><i class="fa fa-check"></i><b>9</b> Glueing and sprintfing</a>
<ul>
<li class="chapter" data-level="9.1" data-path="seminar08.html"><a href="seminar08.html#comparing-effect-between-two-studies"><i class="fa fa-check"></i><b>9.1</b> Comparing effect between two studies</a></li>
<li class="chapter" data-level="9.2" data-path="seminar08.html"><a href="seminar08.html#glue"><i class="fa fa-check"></i><b>9.2</b> Gluing in correlation strength information.</a></li>
<li class="chapter" data-level="9.3" data-path="seminar08.html"><a href="seminar08.html#sprintf"><i class="fa fa-check"></i><b>9.3</b> sprintf</a></li>
<li class="chapter" data-level="9.4" data-path="seminar08.html"><a href="seminar08.html#wrap-up-2"><i class="fa fa-check"></i><b>9.4</b> Wrap up</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="seminar09.html"><a href="seminar09.html"><i class="fa fa-check"></i><b>10</b> Tidyng your data</a>
<ul>
<li class="chapter" data-level="10.1" data-path="seminar09.html"><a href="seminar09.html#pivoting-between-long-and-wide-format"><i class="fa fa-check"></i><b>10.1</b> Pivoting between long and wide format</a></li>
<li class="chapter" data-level="10.2" data-path="seminar09.html"><a href="seminar09.html#practice-pivoting-longer"><i class="fa fa-check"></i><b>10.2</b> Practice pivoting longer</a></li>
<li class="chapter" data-level="10.3" data-path="seminar09.html"><a href="seminar09.html#practice-pivoting-wider"><i class="fa fa-check"></i><b>10.3</b> Practice pivoting wider</a></li>
<li class="chapter" data-level="10.4" data-path="seminar09.html"><a href="seminar09.html#extracting-information-from-a-string"><i class="fa fa-check"></i><b>10.4</b> Extracting information from a string</a></li>
<li class="chapter" data-level="10.5" data-path="seminar09.html"><a href="seminar09.html#separate"><i class="fa fa-check"></i><b>10.5</b> Separate</a></li>
<li class="chapter" data-level="10.6" data-path="seminar09.html"><a href="seminar09.html#missing-data"><i class="fa fa-check"></i><b>10.6</b> Missing data</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="seminar10.html"><a href="seminar10.html"><i class="fa fa-check"></i><b>11</b> Repeating a computation</a>
<ul>
<li class="chapter" data-level="11.1" data-path="seminar10.html"><a href="seminar10.html#rep"><i class="fa fa-check"></i><b>11.1</b> <code>rep()</code></a></li>
<li class="chapter" data-level="11.2" data-path="seminar10.html"><a href="seminar10.html#repeating-combinations"><i class="fa fa-check"></i><b>11.2</b> Repeating combinations</a></li>
<li class="chapter" data-level="11.3" data-path="seminar10.html"><a href="seminar10.html#list"><i class="fa fa-check"></i><b>11.3</b> Lists</a></li>
<li class="chapter" data-level="11.4" data-path="seminar10.html"><a href="seminar10.html#forloop"><i class="fa fa-check"></i><b>11.4</b> For loop</a></li>
<li class="chapter" data-level="11.5" data-path="seminar10.html"><a href="seminar10.html#using-for-loop-to-load-and-join-multiple-data-files"><i class="fa fa-check"></i><b>11.5</b> Using for loop to load and join multiple data files</a></li>
<li class="chapter" data-level="11.6" data-path="seminar10.html"><a href="seminar10.html#apply"><i class="fa fa-check"></i><b>11.6</b> Apply</a></li>
<li class="chapter" data-level="11.7" data-path="seminar10.html"><a href="seminar10.html#purrr"><i class="fa fa-check"></i><b>11.7</b> Purrr</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="seminar11.html"><a href="seminar11.html"><i class="fa fa-check"></i><b>12</b> Statistical modeling</a>
<ul>
<li class="chapter" data-level="12.1" data-path="seminar11.html"><a href="seminar11.html#formula-notation"><i class="fa fa-check"></i><b>12.1</b> Formula notation</a></li>
<li class="chapter" data-level="12.2" data-path="seminar11.html"><a href="seminar11.html#correlation"><i class="fa fa-check"></i><b>12.2</b> Correlation</a></li>
<li class="chapter" data-level="12.3" data-path="seminar11.html"><a href="seminar11.html#pairwise-comparisons"><i class="fa fa-check"></i><b>12.3</b> Pairwise comparisons</a></li>
<li class="chapter" data-level="12.4" data-path="seminar11.html"><a href="seminar11.html#anova"><i class="fa fa-check"></i><b>12.4</b> ANOVA</a></li>
<li class="chapter" data-level="12.5" data-path="seminar11.html"><a href="seminar11.html#GLMM"><i class="fa fa-check"></i><b>12.5</b> (Generalized) Linear Models</a></li>
<li class="chapter" data-level="12.6" data-path="seminar11.html"><a href="seminar11.html#generalized-linear-mixed-models"><i class="fa fa-check"></i><b>12.6</b> (Generalized) Linear Mixed Models</a></li>
<li class="chapter" data-level="12.7" data-path="seminar11.html"><a href="seminar11.html#practice"><i class="fa fa-check"></i><b>12.7</b> Practice</a>
<ul>
<li class="chapter" data-level="" data-path="seminar11.html"><a href="seminar11.html#read-files-and-preprocess-data"><i class="fa fa-check"></i>Read files and preprocess data</a></li>
<li class="chapter" data-level="" data-path="seminar11.html"><a href="seminar11.html#accuracy"><i class="fa fa-check"></i>Accuracy</a></li>
<li class="chapter" data-level="" data-path="seminar11.html"><a href="seminar11.html#response-times"><i class="fa fa-check"></i>Response times</a></li>
<li class="chapter" data-level="" data-path="seminar11.html"><a href="seminar11.html#computing-the-score"><i class="fa fa-check"></i>Computing the score</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="seminar12.html"><a href="seminar12.html"><i class="fa fa-check"></i><b>13</b> Practice</a>
<ul>
<li class="chapter" data-level="13.1" data-path="seminar12.html"><a href="seminar12.html#bad-names-to-good-names"><i class="fa fa-check"></i><b>13.1</b> Bad names to good names</a></li>
<li class="chapter" data-level="13.2" data-path="seminar12.html"><a href="seminar12.html#participant-id"><i class="fa fa-check"></i><b>13.2</b> Participant ID</a></li>
<li class="chapter" data-level="13.3" data-path="seminar12.html"><a href="seminar12.html#factors-1"><i class="fa fa-check"></i><b>13.3</b> Factors</a></li>
<li class="chapter" data-level="13.4" data-path="seminar12.html"><a href="seminar12.html#response-times-1"><i class="fa fa-check"></i><b>13.4</b> Response times</a></li>
<li class="chapter" data-level="13.5" data-path="seminar12.html"><a href="seminar12.html#accuracy-1"><i class="fa fa-check"></i><b>13.5</b> Accuracy</a></li>
<li class="chapter" data-level="13.6" data-path="seminar12.html"><a href="seminar12.html#physiological-signal"><i class="fa fa-check"></i><b>13.6</b> Physiological signal</a></li>
<li class="chapter" data-level="13.7" data-path="seminar12.html"><a href="seminar12.html#wrap-up-3"><i class="fa fa-check"></i><b>13.7</b> Wrap up</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://alexander-pastukhov.github.io/">Alexander (Sasha) Pastukhov</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data analysis using R for Psychology and Social Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tables" class="section level1" number="3">
<h1><span class="header-section-number">Seminar 3</span> Tables and Tibbles (and Tribbles)</h1>
<p>Please download the <a href="notebooks/Seminar%2003%20-%20Tables.Rmd">exercise notebook</a> (<strong>Alt+Click</strong> to download it or right-click as <em>Save link as…</em>), put it into your seminar project folder and open the project. You need both the text and the notebook with exercises to be open, as you will be switching between them.</p>
<div id="primary-types" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Primary data types</h2>
<p>Last time we talked about the fact that everything<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a> is a vector in R. All examples used numeric vectors which are two of the four primary types in R.</p>
<ul>
<li>Real numbers (double precision floating point numbers) that can be written in decimal notation with or without a decimal point (<code>123.4</code> or <code>42</code>) or in a scientific notation (<code>3.14e10</code>). There are two special values specific to the real numbers: <code>Inf</code> (<a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/is.finite.html">infinity</a>) and <code>NaN</code> (<a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/is.finite.html">not a number</a>). The latter looks similar <code>NA</code> (<a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/NA.html">Not Available / Missing Value</a>) but is a different special case (see <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/is.finite.html">R documentation</a> for details.</li>
<li>Integer numbers that can be specified by adding <code>L</code> to the end of an integer number <code>5L</code>. Without that <code>L</code> a <em>real</em> value will be created (<code>5</code> would be stored as <code>5.0</code>).</li>
<li>Logical or Boolean values of <code>TRUE</code> and <code>FALSE</code>. They can also be written as <code>T</code> and <code>F</code> but this practice is discouraged by the <a href="https://style.tidyverse.org/syntax.html?q=TRUE#logical-vectors">Tidyverse style guide</a>.</li>
<li>Character values (strings) that hold text between a pair of matching <code>"</code> or <code>'</code> characters. The two options mean that you can surround your text by <code>'</code> if you need to put a quote inside: <code>'"I have never let my schooling interfere with my education." Mark Twain'</code> or by <code>"</code> if you need an apostrophe <code>"participant's response"</code>. Note that a string <strong>is not</strong> a vector of characters. This would make a lot of sense but it is not. This is why <a href="vectors.html#vector-index">indexing</a> or <a href="vectors.html#vector-index-slicing">slicing</a> will not work and you need to use special functions.</li>
</ul>
<p>You can convert from one type to another and check whether a particular vector is of specific type. Note that if a vector cannot be converted to a specified type, it is “converted” to <code>NA</code> instead.</p>
<ul>
<li>to integer via <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/integer.html">as.integer()</a>, use <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/integer.html">is.integer()</a> to check a value. When converting
<ul>
<li>from a real number the fractional part is <em>discarded</em>, so <code>as.integer(1.8)</code> → <code>1</code> and <code>as.integer(-2.1)</code> → <code>2</code></li>
<li>from logical value <code>as.integer(TRUE)</code> → 1 and <code>as.integer(FALSE)</code> → 0</li>
<li>from string only if it is a properly formed number, e.g., <code>as.integer("12")</code> → <code>12</code> but <code>as.integer("_12_")</code> is <code>NA</code>. Note that a real number string is converted first to a real number and then to an integer so <code>as.integer("12.8")</code> → <code>12</code>.</li>
<li>from <code>NA</code> → <code>NA</code></li>
</ul></li>
<li>to real number via <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/numeric.html">as.numeric()</a> / <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/double.html">as.double()</a>, check a value via <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/double.html">is.double()</a> (avoid <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/numeric.html">is.numeric()</a> as Hadley Wickham <a href="https://adv-r.hadley.nz/vectors-chap.html">writes</a> that it is not doing what you would think it should).
<ul>
<li>from logical value <code>as.double(TRUE)</code> → 1.0 and <code>as.double(FALSE)</code> → 0.0</li>
<li>from string only it is a properly formed number, e.g. <code>as.double("12.2")</code> → <code>12.2</code> but <code>as.double("12punkt5")</code> is <code>NA</code></li>
<li>from <code>NA</code> → <code>NA</code></li>
</ul></li>
<li>to logical <code>TRUE</code>/<code>FALSE</code> via <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/logical.html">as.logical</a> and check a value via <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/logical.html">is.logical()</a>.
<ul>
<li>from integer or real, zero (<code>0</code> or <code>0.0</code>) is <code>FALSE</code>, any other non-zero value is <code>TRUE</code></li>
<li>from a string, it is <code>TRUE</code> for <code>"TRUE"</code>, "<code>True"</code>, <code>"true"</code>, or <code>"T"</code> but <code>NA</code> if <code>"t"</code> <code>"TRue"</code>, <code>"truE</code>, etc. Same goes for <code>FALSE</code>.</li>
<li>from <code>NA</code> → <code>NA</code></li>
</ul></li>
<li>to a character string via <a href="(https://stat.ethz.ch/R-manual/R-devel/library/base/html/character.html)">as.character()</a> and check via <a href="(https://stat.ethz.ch/R-manual/R-devel/library/base/html/character.html)">is.character()</a><a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a>
<ul>
<li>numeric values are converted to a string representation with scientific notation being used for large numbers.</li>
<li>logical <code>TRUE</code>/<code>T</code> and <code>FALSE</code>/<code>T</code> are converted to <code>"TRUE"</code> and <code>"FALSE"</code>.</li>
<li><code>NA</code> → <code>NA</code></li>
</ul></li>
</ul>
<div class="infobox practice">
<p>Do exercise 1.</p>
</div>
</div>
<div id="vectors-are-homogeneous" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> All vector values must be of the same type</h2>
<p><em>All</em> values in a vector must be of the same type - all integer, all double, all logical, or all strings, which is why they are also called <em>atomic</em> vectors. This ensures that you can apply the same function or operation to the entire vector without worrying about type compatibility. However, this means that you cannot mix different value types in a vector. If you do try to concatenate vectors of different types, all values will be converted to a more general / flexible type. Thus, if you mix numbers and logical values, you will end up with a vector of numbers. Mixing anything with strings will convert the entire vector to string. Mixing in <code>NA</code> does not change the vector type.</p>
<div class="infobox practice">
<p>Do exercise 2.</p>
</div>
</div>
<div id="lists" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Lists</h2>
<p>(Atomic) vectors are (homogeneous)[#vectors-are-homogeneous] lists of <a href="tables.html#primary-types">primary types</a> items, whereas <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/list.html">lists</a> are lists that can contain <em>any</em> item including vectors of different primary type data, other lists, or other objects<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a>. Otherwise, (well, almost, see below) you work with them the same way is with vectors. You create a <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/list.html">list</a> via <code>list()</code> function and then you can concatenate lists via the same <a href="(https://stat.ethz.ch/R-manual/R-devel/library/base/html/c.html)">c()</a> function, access individual elements via <a href="vectors.html#vector-index">numeric index</a> or <a href="vectors.html#names">names</a>, use <a href="vectors.html#vector-index-slicing">slicing</a>, etc.</p>
</div>
<div id="subsetting" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Subsetting, a fuller version</h2>
<p>Unfortunately, this is the point where we need to talk about subsetting (accessing individual elements of a vector or of a list via indexes or names) yet again. This is because R has several different ways of doing this that look similar and, to make things worse, <em>sometimes</em> produce identical results. I do not expect you to memorize or even fully appreciate all the intricate details (I am not even sure I know them all). But I do need you to understand the fundamental difference between the two ways of doing subsetting and to be aware of potential issues that can easily cause confusion. If the latter is the case, return to this section, read the <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/Extract.html">official manual</a>, or read the <a href="http://adv-r.had.co.nz/Subsetting.html">subsetting</a> section in “Advanced R” book by Hadley Wickham.</p>
<p>You <a href="vectors.html#vector-index">already know</a> subsetting via <em>single</em> square brackets: <code>x[1]</code>. This is called <em>preserving</em> subsetting because it returns a <em>part of an object</em> (vector or list) that your requested <em>as is</em>. I.e., if you used them to access part of a a vector, you get a vector. If you used them to access a list or a <a href="tables.html#data.frame">table</a>, you get a list or a table.</p>
<p>In addition, you can use <em>double</em> square brackets: <code>x[[1]]</code>. These are called <em>simplifying</em> subsetting because they extract <em>content</em> at that location. If you have a list of vectors <code>l</code> then <code>l[2]</code> (preserving) would return a single item list but <code>l[[2]]</code> would return a vector stored at that location. A metaphor based on <a href="https://twitter.com/rlangtip">@RLangTip</a>: “If list <code>x</code> is a train carrying objects, then <code>x[[5]]</code> is the object in car 5; <code>x[5]</code> is a train consisting only of car 5.”</p>
<p>Note that the simplifying notation allows you to extract content of only <em>one</em> item. Therefore, you cannot use it with <a href="vectors.html#vector-index-slicing">slicing</a> (extracting content of many items), negative indexes (even if you will end up with just one index), or zero index. The good news is that R will actually generate an error message instead of failing silently, although error messages will be both mysterious and <em>different</em> depending on exact circumstances. To deepen your feeling of arbitrariness of R design: using a non-existent <em>name</em> index will generate an error for vectors but not for lists (you get <code>NULL</code>)<a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a>.</p>
<p>Confusing? Let us go through some examples, so you can see a difference these two kinds of brackets make for vectors and lists.</p>
<div id="subsetting-for-atomics-vectors" class="section level3" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Subsetting for (atomics) vectors</h3>
<p>First, we create a named vector</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="tables.html#cb86-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span><span class="ot">=</span><span class="dv">1</span>, <span class="st">&quot;b&quot;</span><span class="ot">=</span><span class="dv">2</span>, <span class="st">&quot;c&quot;</span><span class="ot">=</span><span class="dv">3</span>)</span></code></pre></div>
<p>Preserving subsetting via <code>[]</code> returns a part of original vector, notice that the <em>name</em> associated with an index is retained.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="tables.html#cb87-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## b 
## 2</code></pre>
<p>Simplifying subsetting via <code>[[]]</code> extracts value at the location. Because the <em>name</em> is associated with an <em>index</em>, not with the content, it gets stripped off.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="tables.html#cb89-1" aria-hidden="true" tabindex="-1"></a>x[[<span class="dv">2</span>]]</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Trying to extract multiple items will fail for <em>simplifying</em> subsetting.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="tables.html#cb91-1" aria-hidden="true" tabindex="-1"></a>x[[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]]</span></code></pre></div>
<pre><code>## Error in x[[1:2]]: attempt to select more than one element in vectorIndex</code></pre>
<p>Same is true for negative indexes, even though we are excluding two out of three indexes, so end up with content from just one item.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="tables.html#cb93-1" aria-hidden="true" tabindex="-1"></a>x[[<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)]]</span></code></pre></div>
<pre><code>## Error in x[[-(1:2)]]: attempt to select more than one element in vectorIndex</code></pre>
<p>And the zero index generates an error as well but the error message is different.
ex <real>"</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="tables.html#cb95-1" aria-hidden="true" tabindex="-1"></a>x[[<span class="dv">0</span>]]</span></code></pre></div>
<pre><code>## Error in x[[0]]: attempt to select less than one element in get1index &lt;real&gt;</code></pre>
<p>Using of a non-existent name will generate an error for <em>simplifying</em> but not for <em>preserving</em> subsetting.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="tables.html#cb97-1" aria-hidden="true" tabindex="-1"></a>x[<span class="st">&quot;a&quot;</span>]</span></code></pre></div>
<pre><code>## a 
## 1</code></pre>
<p>This also works but strips the name off.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="tables.html#cb99-1" aria-hidden="true" tabindex="-1"></a>x[[<span class="st">&quot;a&quot;</span>]]</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>This fails silently by returning <code>NA</code>.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="tables.html#cb101-1" aria-hidden="true" tabindex="-1"></a>x[<span class="st">&quot;d&quot;</span>]</span></code></pre></div>
<pre><code>## &lt;NA&gt; 
##   NA</code></pre>
<p>But this will generate an error.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="tables.html#cb103-1" aria-hidden="true" tabindex="-1"></a>x[[<span class="st">&quot;d&quot;</span>]]</span></code></pre></div>
<pre><code>## Error in x[[&quot;d&quot;]]: subscript out of bounds</code></pre>
<p><strong>General rule:</strong> when using vectors, always use <code>[]</code>. The only potential usage-case I can see is wanting to strip a name off a single item (not sure I ever needed to do this). If, for some reason, this is what you need, you should write a comment explaining that. Otherwise, everyone including future-you will be confused and think that this is a typo.</p>
</div>
<div id="subsetting-for-lists" class="section level3" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Subsetting for lists</h3>
<p>First, we create a named list</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="tables.html#cb105-1" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;a&quot;</span><span class="ot">=</span><span class="dv">1</span>, <span class="st">&quot;b&quot;</span><span class="ot">=</span><span class="dv">2</span>, <span class="st">&quot;c&quot;</span><span class="ot">=</span><span class="fu">list</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>))</span></code></pre></div>
<p>Preserving subsetting via <code>[]</code> returns a list that is a part of original list, again the <em>name</em> associated with an index so it is retained in the returned list.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="tables.html#cb106-1" aria-hidden="true" tabindex="-1"></a>l[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## $b
## [1] 2</code></pre>
<p>Simplifying subsetting via <code>[[]]</code> extracts value at the location. This is why you get a <em>vector</em> (of length 1).</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="tables.html#cb108-1" aria-hidden="true" tabindex="-1"></a>l[[<span class="dv">2</span>]]</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>What about our list inside of the list at position 3? Using preserving subsetting give us a list inside of the list (car of the train).</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="tables.html#cb110-1" aria-hidden="true" tabindex="-1"></a>l[<span class="st">&quot;c&quot;</span>]</span></code></pre></div>
<pre><code>## $c
## $c[[1]]
## [1] 3
## 
## $c[[2]]
## [1] 4
## 
## $c[[3]]
## [1] 5</code></pre>
<p>Using simplifying subsetting return a list that was inside the list at that location (object inside that car). Note that, as with the vector before, the name gets stripped off, as it belongs to the index (car of the train) and not the content (object inside the car).</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="tables.html#cb112-1" aria-hidden="true" tabindex="-1"></a>l[[<span class="st">&quot;c&quot;</span>]]</span></code></pre></div>
<pre><code>## [[1]]
## [1] 3
## 
## [[2]]
## [1] 4
## 
## [[3]]
## [1] 5</code></pre>
<p>Again, using multiple indexes will fail.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="tables.html#cb114-1" aria-hidden="true" tabindex="-1"></a>l[[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]]</span></code></pre></div>
<pre><code>## Error in l[[1:2]]: subscript out of bounds</code></pre>
<p>Same for negative indexe.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="tables.html#cb116-1" aria-hidden="true" tabindex="-1"></a>l[[<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)]]</span></code></pre></div>
<pre><code>## Error in l[[-(1:2)]]: attempt to select more than one element in integerOneIndex</code></pre>
<p>And for the zero index (but notice a <em>different</em> error message).</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="tables.html#cb118-1" aria-hidden="true" tabindex="-1"></a>l[[<span class="dv">0</span>]]</span></code></pre></div>
<pre><code>## Error in l[[0]]: attempt to select less than one element in get1index &lt;real&gt;</code></pre>
<p>Using a non-existent name index for lists with preserving subsetting (<code>[]</code>) will return a single item list with <code>NULL</code> as a content<a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a> but just <code>NULL</code> for simplifying one (<code>[[]]</code>). And none of them will generate an error.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="tables.html#cb120-1" aria-hidden="true" tabindex="-1"></a>l[<span class="st">&quot;d&quot;</span>]</span></code></pre></div>
<pre><code>## $&lt;NA&gt;
## NULL</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="tables.html#cb122-1" aria-hidden="true" tabindex="-1"></a>l[[<span class="st">&quot;d&quot;</span>]]</span></code></pre></div>
<pre><code>## NULL</code></pre>
<p><strong>General rule:</strong> use <code>[[]]</code> if you are interested in list or table content, e.g., you need a column from the table. Use <code>[]</code> if you interested in using a smaller (part of the original) list or table.</p>
<p>If this is the point when you want to start running around screaming or bang your head against the screen, please tell me, cause I would definitely join you. Let us do some exercises that might help to build some intuition. However, as you probably noticed already, subsetting in R is fairly haphazard, so you probably will still end up being confused or have a code the does not work for seemingly mysterious reasons.</p>
<div class="infobox practice">
<p>Do exercise 3.</p>
</div>
</div>
</div>
<div id="dollar-subsetting" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Yet another subsetting via $</h2>
<p>I am terribly sorry but I need to deepen your confusion and despair but telling you that R has yet another way of subsetting via a <code>$</code> sign. In fact, this is the most common way of subsetting for lists and <a href="tables.html#data.frame">tables</a> that you will encounter almost everywhere. It is a shortcut version for <em>partial matching</em> of simplifying subsetting: <code>l$c</code> is the same as writing <code>l[["c", exact = FALSE]]</code>. The last new part <code>exact = FALSE</code> means that you can use an <em>incomplete</em> name after the <code>$</code> and R will guess what you mean. So, if you made a typo while meaning some completely different column name, R will second-guess your intentions and give you a variable that has the same beginning (no error, don’t even hope).</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="tables.html#cb124-1" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;aa&quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;bb&quot;</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">&quot;bc&quot;</span> <span class="ot">=</span> <span class="dv">3</span>)</span>
<span id="cb124-2"><a href="tables.html#cb124-2" aria-hidden="true" tabindex="-1"></a>l<span class="sc">$</span>a</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>The good news is that it won’t autocomplete ambiguous cases. The bad news that it won’t generate an error and will return a <code>NULL</code> (just like <code>[[]]</code> would).</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="tables.html#cb126-1" aria-hidden="true" tabindex="-1"></a>l<span class="sc">$</span>b</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="tables.html#cb128-1" aria-hidden="true" tabindex="-1"></a>l[[<span class="st">&#39;b&#39;</span>]]</span></code></pre></div>
<pre><code>## NULL</code></pre>
<p>My advice would be to stick to <code>[[]]</code> notation despite the ubiquitous use of <code>$</code> out where. It is slightly more strict and more universal: You can hard code a column/item name or put it into a variable for indexing. Only hard-coding works for <code>$</code>.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="tables.html#cb130-1" aria-hidden="true" tabindex="-1"></a>l[[<span class="st">&quot;bb&quot;</span>]]</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="tables.html#cb132-1" aria-hidden="true" tabindex="-1"></a>column_of_interest <span class="ot">&lt;-</span> <span class="st">&quot;bb&quot;</span></span>
<span id="cb132-2"><a href="tables.html#cb132-2" aria-hidden="true" tabindex="-1"></a>l[[column_of_interest]]</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
</div>
<div id="data.frame" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> Tables, a.k.a. data frames</h2>
<p>R tables are a mix between <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/list.html">lists</a> and <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/matrix.html">matrices</a>. You can think about it as a list of vectors (columns) of <em>identical</em> length. The default way to construct a table, which are called <em>data frames</em> in R, is via <a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/data.frame">data.frame()</a> function.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="tables.html#cb134-1" aria-hidden="true" tabindex="-1"></a>our_first_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">numeric_column =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>), </span>
<span id="cb134-2"><a href="tables.html#cb134-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">character_column =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>),</span>
<span id="cb134-3"><a href="tables.html#cb134-3" aria-hidden="true" tabindex="-1"></a>                              <span class="at">logical_column =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, F, T, <span class="cn">FALSE</span>))</span>
<span id="cb134-4"><a href="tables.html#cb134-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-5"><a href="tables.html#cb134-5" aria-hidden="true" tabindex="-1"></a>our_first_table</span></code></pre></div>
<pre><code>##   numeric_column character_column logical_column
## 1              1                A           TRUE
## 2              2                B          FALSE
## 3              3                C           TRUE
## 4              4                D          FALSE</code></pre>
<p>Once you create a table, it will appear in your environment, so you can see it in the <em>Environment</em> tab and view it by clicking on it or typing <code>View(table_name)</code> in the console (note the capital V in the <code>View()</code>).
<img src="images/viewing-table.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="infobox practice">
<p>Do exercise 4.</p>
</div>
<p>All columns in a table <strong>must</strong> have the same number of items (rows). This is similar to the process of <a href="vectors.html#different-length-vectors">matching vectors’ length</a> that you have learned the last time. However, it works automatically only if length of <em>all</em> vectors is a multiple of the longest length. Thus, the example below will work, as the longest vector (<code>numeric_column</code>) is 6, <code>character_column</code> length is 3, so it will be repeated twice, and <code>logical_column</code> length is 2 so it will be repeated thrice.</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="tables.html#cb136-1" aria-hidden="true" tabindex="-1"></a>the_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">numeric_column =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,                  <span class="co"># length 6 </span></span>
<span id="cb136-2"><a href="tables.html#cb136-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">character_column =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>),   <span class="co"># length 3</span></span>
<span id="cb136-3"><a href="tables.html#cb136-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">logical_column =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>))       <span class="co"># length 2</span></span>
<span id="cb136-4"><a href="tables.html#cb136-4" aria-hidden="true" tabindex="-1"></a>the_table</span></code></pre></div>
<pre><code>##   numeric_column character_column logical_column
## 1              1                A           TRUE
## 2              2                B          FALSE
## 3              3                C           TRUE
## 4              4                A          FALSE
## 5              5                B           TRUE
## 6              6                C          FALSE</code></pre>
<p>If the simple <em>multple-of-length</em> rule does not work, R generates an error (finally!).</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="tables.html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="co"># this will generate an error: arguments imply differing number of rows</span></span>
<span id="cb138-2"><a href="tables.html#cb138-2" aria-hidden="true" tabindex="-1"></a>the_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">numeric_column =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>,                 <span class="co"># length 7</span></span>
<span id="cb138-3"><a href="tables.html#cb138-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">character_column =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>))  <span class="co"># length 3, cannot be multiplied by an integer to get 7</span></span></code></pre></div>
<pre><code>## Error in data.frame(numeric_column = 1:7, character_column = c(&quot;A&quot;, &quot;B&quot;, : arguments imply differing number of rows: 7, 3</code></pre>
<div class="infobox practice">
<p>Do exercise 5.</p>
</div>
</div>
<div id="table-subsetting" class="section level2" number="3.7">
<h2><span class="header-section-number">3.7</span> Subsetting tables</h2>
<p>One way to think about a table as a list of columns (vectors). Hence, both preserving (<code>[]</code>) and simplifying (<code>[[]]</code>) subsetting will work as you would expect returning either a <code>data.frame</code> (<code>[]</code>) or a <em>vector</em> that was a column your were interested in (<code>[[]]</code>).</p>
<p>The preserving returns a <em>table</em> with <em>one</em> column.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="tables.html#cb140-1" aria-hidden="true" tabindex="-1"></a>our_first_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">numeric_column =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), </span>
<span id="cb140-2"><a href="tables.html#cb140-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">character_column =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>),</span>
<span id="cb140-3"><a href="tables.html#cb140-3" aria-hidden="true" tabindex="-1"></a>                              <span class="at">logical_column =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, F, T))</span>
<span id="cb140-4"><a href="tables.html#cb140-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-5"><a href="tables.html#cb140-5" aria-hidden="true" tabindex="-1"></a><span class="co"># via index</span></span>
<span id="cb140-6"><a href="tables.html#cb140-6" aria-hidden="true" tabindex="-1"></a>our_first_table[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>##   numeric_column
## 1              1
## 2              2
## 3              3</code></pre>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="tables.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="co"># via name </span></span>
<span id="cb142-2"><a href="tables.html#cb142-2" aria-hidden="true" tabindex="-1"></a>our_first_table[<span class="st">&#39;numeric_column&#39;</span>]</span></code></pre></div>
<pre><code>##   numeric_column
## 1              1
## 2              2
## 3              3</code></pre>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="tables.html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co"># via slicing</span></span>
<span id="cb144-2"><a href="tables.html#cb144-2" aria-hidden="true" tabindex="-1"></a>our_first_table[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>##   numeric_column character_column
## 1              1                A
## 2              2                B
## 3              3                C</code></pre>
<p><img src="images/table-subtable.png" width="100%" style="display: block; margin: auto;" /></p>
<p>The simplifying returns a <em>vector</em>.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="tables.html#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="co"># via $ notation</span></span>
<span id="cb146-2"><a href="tables.html#cb146-2" aria-hidden="true" tabindex="-1"></a>our_first_table<span class="sc">$</span>numeric_column</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="tables.html#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="co"># via name and double square brackets</span></span>
<span id="cb148-2"><a href="tables.html#cb148-2" aria-hidden="true" tabindex="-1"></a>our_first_table[[<span class="st">&#39;numeric_column&#39;</span>]]</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="tables.html#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="co"># via index and double square brackets</span></span>
<span id="cb150-2"><a href="tables.html#cb150-2" aria-hidden="true" tabindex="-1"></a>our_first_table[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<p><img src="images/table-column.png" width="100%" style="display: block; margin: auto;" /></p>
<p>The only new thing is that, because tables are two-dimensionsional, you can use preserving subsetting to extract or access a rectangular region within a table. To select a subset rows and columns you write <code>table[rows, columns]</code>. If you omit either rows or columns this implies that you want <em>all</em> rows or columns.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="tables.html#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="co"># getting ALL rows for the FIRST column -&gt; this gives you a VECTOR</span></span>
<span id="cb152-2"><a href="tables.html#cb152-2" aria-hidden="true" tabindex="-1"></a>our_first_table[, <span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="tables.html#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="co"># getting FIRST row for ALL columns -&gt; this gives you DATA.FRAME</span></span>
<span id="cb154-2"><a href="tables.html#cb154-2" aria-hidden="true" tabindex="-1"></a>our_first_table[<span class="dv">1</span>, ]</span></code></pre></div>
<pre><code>##   numeric_column character_column logical_column
## 1              1                A           TRUE</code></pre>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="tables.html#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ALL rows and ALL columns, equivalent to just writing `our_first_table` or `our_first_table[]`</span></span>
<span id="cb156-2"><a href="tables.html#cb156-2" aria-hidden="true" tabindex="-1"></a>our_first_table[,]</span></code></pre></div>
<pre><code>##   numeric_column character_column logical_column
## 1              1                A           TRUE
## 2              2                B          FALSE
## 3              3                C           TRUE</code></pre>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="tables.html#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="co"># getting SECOND element of the THIRD column</span></span>
<span id="cb158-2"><a href="tables.html#cb158-2" aria-hidden="true" tabindex="-1"></a>our_first_table[<span class="dv">2</span>, <span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="tables.html#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="co"># getting first two elements of the logical_column</span></span>
<span id="cb160-2"><a href="tables.html#cb160-2" aria-hidden="true" tabindex="-1"></a>our_first_table[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="st">&quot;logical_column&quot;</span>]</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE</code></pre>
<p><img src="images/table-rows-columns.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="infobox practice">
<p>Do exercise 5.</p>
</div>
</div>
<div id="library" class="section level2" number="3.8">
<h2><span class="header-section-number">3.8</span> Using libraries</h2>
<p>There is a better way to construct a table but to use it, we need to first import a library that implements it. As with most modern programming languages, the real power of R is not in what comes bundled with it (very little, as a matter of fact) but in community developed libraries that extend it. We already discussed how you <a href="software.html#install.packages">install libraries</a>. For that you use <a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/library">library()</a> function (it has a sister function <code>require()</code> but it should be used inside functions and packages not in scripts or notebooks). So, to use <em>tidyverse</em> library that you already installed, you simply write</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="tables.html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb162-2"><a href="tables.html#cb162-2" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb162-3"><a href="tables.html#cb162-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
<p>One thing to keep in mind is that if you import two libraries that have a function with same name, the function from the <em>latter</em> package will overwrite (mask) the function from the former. You will get a warning but if you miss it, it may be very confusing. My favorite stumbling block are functions <code>filter()</code> from <code>dplyr</code> package (we will use it extensively, as it filters a table by row) and <code>filter()</code> function from <code>signal</code> package (applies a filter to a time-series)<a href="#fn18" class="footnote-ref" id="fnref18"><sup>18</sup></a>. This overwriting of one function by another can lead to very odd looking mistakes. In my case I think that I am using <code>dplyr::filter()</code> and get confused by error messages that I get (they are not really informative). The first time I did this, it took me an hour to figure it out. Here are the warnings I should have paid attention to.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="tables.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(signal)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;signal&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, poly</code></pre>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="tables.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:signal&#39;:
## 
##     filter</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<p>Thus, keep that in mind or, better still, explicitly mention which package the function is coming from via <code>library::function()</code> notation. In this case, you will use the function that you are interested in and need not to worry about other functions with the same name that may conflict with it. In general, it is a good idea to <em>always</em> disambiguate function via library but in practice it may make your code hard to read by cluttering it with <code>library::</code> prefixes. Thus, you will need to find a balance between disambiguation and readability.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="tables.html#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb171-2"><a href="tables.html#cb171-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-3"><a href="tables.html#cb171-3" aria-hidden="true" tabindex="-1"></a><span class="co"># imported from the library into the global environment</span></span>
<span id="cb171-4"><a href="tables.html#cb171-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">tribble</span>(<span class="sc">~</span>a, <span class="dv">1</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##       a
##   &lt;dbl&gt;
## 1     1</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="tables.html#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="co"># used directly from the package</span></span>
<span id="cb173-2"><a href="tables.html#cb173-2" aria-hidden="true" tabindex="-1"></a>tibble<span class="sc">::</span><span class="fu">tribble</span>(<span class="sc">~</span>a, <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##       a
##   &lt;dbl&gt;
## 1     1</code></pre>
<p>When using a notebook (so, in our case, always) put the libraries into <em>setup</em> chunk of the notebook. This ensures that your libraries are always initialized, even if you first run some other chunk. Word of advice, keep you library list in alphabetical order. Libraries are very specialized, so you will need quite a few of them for a typical analysis. Keeping them alphabetically organized makes it easier to see whether you imported the required library and whether you need to install a new one.</p>
</div>
<div id="tibble" class="section level2" number="3.9">
<h2><span class="header-section-number">3.9</span> Tibble, a better data.frame</h2>
<p>Although the <code>data.frame()</code> function is the default way of creating a table, it is a legacy implementation with numerous shortcomings. Tidyverse implemented its own version of the table called <a href="https://tibble.tidyverse.org/">tibble()</a> that provides a more rigorous control and more consistent behavior. For example, it allows you to use any symbol in columns names (including spaces), prints out only the beginning of the table rather than entire table, etc. It also gives more warnings. If you try to access a non-existing column both <code>data.frame()</code> and <code>tibble()</code> will return <code>NULL</code> but the former will do it silently, whereas the latter will give you a warning but only if you use the <code>$</code> notation<a href="#fn19" class="footnote-ref" id="fnref19"><sup>19</sup></a>.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="tables.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb175-2"><a href="tables.html#cb175-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-3"><a href="tables.html#cb175-3" aria-hidden="true" tabindex="-1"></a><span class="co"># data.frame will return NULL silently</span></span>
<span id="cb175-4"><a href="tables.html#cb175-4" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">b =</span> <span class="dv">1</span>)</span>
<span id="cb175-5"><a href="tables.html#cb175-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df[[<span class="st">&quot;A&quot;</span>]])</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="tables.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># data.frame will return NULL for a variable that does not exist</span></span>
<span id="cb177-2"><a href="tables.html#cb177-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-3"><a href="tables.html#cb177-3" aria-hidden="true" tabindex="-1"></a>tbl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">b =</span> <span class="dv">1</span>)</span>
<span id="cb177-4"><a href="tables.html#cb177-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(tbl[[<span class="st">&quot;A&quot;</span>]])</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="tables.html#cb179-1" aria-hidden="true" tabindex="-1"></a>tbl<span class="sc">$</span>A</span></code></pre></div>
<pre><code>## Warning: Unknown or uninitialised column: `A`.</code></pre>
<pre><code>## NULL</code></pre>
<p>In short, <code>tibble()</code> provides a more robust version of a <code>data.frame</code> but otherwise behaves (mostly) identically to it. Thus, it should be your default choice for a table.</p>
</div>
<div id="tribble" class="section level2" number="3.10">
<h2><span class="header-section-number">3.10</span> Tribble, table from text</h2>
<p>The tibble package also provides an easier way of constructing tables via the <a href="https://tibble.tidyverse.org/reference/tribble.html">tribble()</a> function. Here, you use tilde to specify column names, and then write its content row-by-row.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="tables.html#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tribble</span>(</span>
<span id="cb182-2"><a href="tables.html#cb182-2" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span>x, <span class="sc">~</span>y,</span>
<span id="cb182-3"><a href="tables.html#cb182-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>,  <span class="st">&quot;a&quot;</span>,</span>
<span id="cb182-4"><a href="tables.html#cb182-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>,  <span class="st">&quot;b&quot;</span></span>
<span id="cb182-5"><a href="tables.html#cb182-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## # A tibble: 2 x 2
##       x y    
##   &lt;dbl&gt; &lt;chr&gt;
## 1     1 a    
## 2     2 b</code></pre>
<div class="infobox practice">
<p>Do exercise 6.</p>
</div>
</div>
<div id="data" class="section level2" number="3.11">
<h2><span class="header-section-number">3.11</span> Reading example tables</h2>
<p>One of the great things about R is that most packages come with an example data set that illustrates their function. You can see the list of some of them <a href="https://www.rdocumentation.org/packages/datasets">here</a>. In case of an example data set, you need to import the library that it is part of and then load them by writing <code>data(tablename)</code>. For example, to use use <code>mpg</code> data on fuel economy from <code>ggplot2</code> package, you need to import the library first, and then call <code>data(mpg)</code>.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="tables.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb184-2"><a href="tables.html#cb184-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mpg) <span class="co"># this create a &quot;promise&quot; of the data</span></span>
<span id="cb184-3"><a href="tables.html#cb184-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mpg) <span class="co"># any action on the promise leads to data appearing in the environment</span></span></code></pre></div>
<pre><code>## # A tibble: 234 x 11
##    manufacturer model      displ  year   cyl trans drv     cty   hwy fl    class
##    &lt;chr&gt;        &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;
##  1 audi         a4           1.8  1999     4 auto~ f        18    29 p     comp~
##  2 audi         a4           1.8  1999     4 manu~ f        21    29 p     comp~
##  3 audi         a4           2    2008     4 manu~ f        20    31 p     comp~
##  4 audi         a4           2    2008     4 auto~ f        21    30 p     comp~
##  5 audi         a4           2.8  1999     6 auto~ f        16    26 p     comp~
##  6 audi         a4           2.8  1999     6 manu~ f        18    26 p     comp~
##  7 audi         a4           3.1  2008     6 auto~ f        18    27 p     comp~
##  8 audi         a4 quattro   1.8  1999     4 manu~ 4        18    26 p     comp~
##  9 audi         a4 quattro   1.8  1999     4 auto~ 4        16    25 p     comp~
## 10 audi         a4 quattro   2    2008     4 manu~ 4        20    28 p     comp~
## # ... with 224 more rows</code></pre>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="13">
<li id="fn13"><p>Terms and conditions apply.<a href="tables.html#fnref13" class="footnote-back">↩︎</a></p></li>
<li id="fn14"><p>Be aware that <a href="https://stat.ethz.ch/R-manual/R-devel/library/utils/html/str.html">str()</a> function has nothing to do with strings but displays a structure of an object. A very unfortunate choice of name but we are stuck with it.<a href="tables.html#fnref14" class="footnote-back">↩︎</a></p></li>
<li id="fn15"><p>If you are familiar with Python, you can think of R lists as Python lists and dictionaries mixed together.<a href="tables.html#fnref15" class="footnote-back">↩︎</a></p></li>
<li id="fn16"><p>Insert a hair-pulling picture of your preference here.<a href="tables.html#fnref16" class="footnote-back">↩︎</a></p></li>
<li id="fn17"><p>And <code>NA</code> as a name. Don’t ask.<a href="tables.html#fnref17" class="footnote-back">↩︎</a></p></li>
<li id="fn18"><p>There is also a filter function is stats library.<a href="tables.html#fnref18" class="footnote-back">↩︎</a></p></li>
<li id="fn19"><p>Arbitrariness strikes again! But this also means that <code>$</code> is safer to use with tibbles but not with data.frames.<a href="tables.html#fnref19" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="vectors.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="readr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["data-analysis-using-r-for-psychology.pdf", "data-analysis-using-r-for-psychology.epub"],
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
